<COMPONENT>
	<HEADER PLATEFORM="ALL" SERIAL="" VERSION="0.101" STATUS="ALPHA"
		COMPATIBILITY="ALL" AUTHOR="Talend" RELEASE_DATE="20050320A"
		STARTABLE="true" SUPPORTS_DB_TYPE="true">
		<SIGNATURE></SIGNATURE>
	</HEADER>

	<FAMILIES>
		<FAMILY>Big Data/Impala</FAMILY>
	</FAMILIES>
	<DOCUMENTATION>
		<URL />
	</DOCUMENTATION>
	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="1" />
		<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="1" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK" />
		<CONNECTOR CTYPE="COMPONENT_ERROR" />
		<CONNECTOR CTYPE="RUN_IF" />
	</CONNECTORS>

	<PARAMETERS>
		<PARAMETER NAME="PROPERTY" FIELD="PROPERTY_TYPE" SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
			NUM_ROW="1" REPOSITORY_VALUE="DATABASE:IMPALA" />

		<PARAMETER NAME="TYPE" FIELD="TEXT" NUM_ROW="3" SHOW="false"
			REPOSITORY_VALUE="TYPE" GROUP="CONNECTION">
			<DEFAULT>Hive</DEFAULT>
		</PARAMETER>

		<!-- CONNECTION PART BEGIN -->

		<PARAMETER NAME="USE_EXISTING_CONNECTION" FIELD="CHECK"
				   NUM_ROW="4">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="CONNECTION" FIELD="COMPONENT_LIST"
			REQUIRED="true" FILTER="tImpalaConnection" NUM_ROW="4"
			SHOW_IF="USE_EXISTING_CONNECTION == 'true'" />

		<PARAMETER NAME="USE_YARN" FIELD="CHECK" NUM_ROW="11"
			SHOW_IF="DISTRIBUTION=='CUSTOM' AND USE_EXISTING_CONNECTION=='false'" GROUP="CONNECTION" REPOSITORY_VALUE="USE_YARN">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="IMPALA_DRIVER" FIELD="CLOSED_LIST"
			NUM_ROW="12" REQUIRED="true" REPOSITORY_VALUE="IMPALA_DRIVER"
				   SHOW_IF="USE_EXISTING_CONNECTION=='false'"
				   GROUP="CONNECTION">
			<ITEMS DEFAULT="HIVE2">
				<ITEM NAME="HIVE2" VALUE="HIVE2"/>
				<ITEM NAME="IMPALA" VALUE="IMPALA"/>
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="HOST" FIELD="TEXT" NUM_ROW="20"
			REPOSITORY_VALUE="SERVER_NAME" GROUP="CONNECTION"
			SHOW_IF="USE_EXISTING_CONNECTION=='false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="PORT" FIELD="TEXT" NUM_ROW="20"
					REPOSITORY_VALUE="PORT" REQUIRED="true" GROUP="CONNECTION" SHOW_IF="USE_EXISTING_CONNECTION=='false'">
			<DEFAULT>"21050"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="DBNAME" FIELD="TEXT" NUM_ROW="25"
				   REPOSITORY_VALUE="SID" REQUIRED="true" GROUP="CONNECTION"
				   SHOW_IF="USE_EXISTING_CONNECTION=='false'">
			<DEFAULT>"default"</DEFAULT>
		</PARAMETER>

		        
        <PARAMETER NAME="IMPALA_ADDITIONAL_JDBC" FIELD="TEXT" NUM_ROW="26"
            REPOSITORY_VALUE="IMPALA_ADDITIONAL_JDBC" REQUIRED="false" GROUP="CONNECTION"
            SHOW_IF="(!DISTRIB[DISTRIBUTION, IMPALA_VERSION].useCloudLauncher[] AND DISTRIB[DISTRIBUTION, IMPALA_VERSION].doSupportHive2[])">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>   
		
		<PARAMETER NAME="USER" FIELD="TEXT" NUM_ROW="27"
			REPOSITORY_VALUE="USERNAME" GROUP="AUTHENTICATION"
			SHOW_IF="(isShow[USE_KRB]) AND USE_KRB=='false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>        
        
        <PARAMETER NAME="PASS" FIELD="PASSWORD" NUM_ROW="27" REPOSITORY_VALUE="PASSWORD" GROUP="AUTHENTICATION"
			SHOW_IF="(isShow[USE_KRB]) AND USE_KRB=='false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="USE_KRB" FIELD="CHECK" NUM_ROW="35"
			REQUIRED="true" REPOSITORY_VALUE="USE_KRB" GROUP="AUTHENTICATION"
			SHOW_IF="USE_EXISTING_CONNECTION=='false'">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="IMPALA_PRINCIPAL" FIELD="TEXT" NUM_ROW="40"
			REQUIRED="true" REPOSITORY_VALUE="IMPALA_PRINCIPAL" GROUP="AUTHENTICATION"
			SHOW_IF="(isShow[USE_KRB]) AND USE_KRB=='true'">
			<DEFAULT>"impala/_HOST@EXAMPLE.COM"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="USE_KEYTAB" FIELD="CHECK" NUM_ROW="40"
				   REQUIRED="true" REPOSITORY_VALUE="USE_KEYTAB"
			SHOW_IF="USE_EXISTING_CONNECTION=='false' AND (isShow[USE_KRB]) AND USE_KRB=='true'"
				   GROUP="AUTHENTICATION">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="PRINCIPAL" FIELD="TEXT" NUM_ROW="41"
				   REQUIRED="true" REPOSITORY_VALUE="PRINCIPAL" GROUP="AUTHENTICATION"
				   SHOW_IF="(isShow[USE_KEYTAB]) AND (USE_KEYTAB=='true')">
			<DEFAULT>"hive"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="KEYTAB_PATH" FIELD="FILE" NUM_ROW="41"
				   REQUIRED="true" REPOSITORY_VALUE="KEYTAB_PATH" GROUP="AUTHENTICATION"
				   SHOW_IF="(isShow[USE_KEYTAB]) AND (USE_KEYTAB=='true')">
			<DEFAULT>"/tmp/hive.keytab"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="USE_SSL" FIELD="CHECK" NUM_ROW="45"
				   REPOSITORY_VALUE="USE_SSL" REQUIRED="true"
			SHOW_IF="(USE_EXISTING_CONNECTION=='false' AND (DISTRIBUTION=='CUSTOM' OR DISTRIB[DISTRIBUTION, IMPALA_VERSION].doSupportSSL[]))"
				   GROUP="ENCRYPTION">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="SSL_TRUST_STORE" FIELD="FILE" NUM_ROW="46"
				   REPOSITORY_VALUE="SSL_TRUST_STORE" REQUIRED="true" GROUP="ENCRYPTION"
				   SHOW_IF="(isShow[USE_SSL]) AND (USE_KRB=='false' OR DISTRIB[DISTRIBUTION, IMPALA_VERSION].doSupportSSLwithKerberos[] OR DISTRIBUTION=='CUSTOM') AND (USE_SSL=='true')">
			<DEFAULT>"/home/usr1/ssl/trust_store.jks"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="SSL_TRUST_STORE_PASSWORD" FIELD="PASSWORD"
			NUM_ROW="46" REPOSITORY_VALUE="SSL_TRUST_STORE_PASSWORD" REQUIRED="true" GROUP="ENCRYPTION"
				   SHOW_IF="(isShow[USE_SSL]) AND (USE_KRB=='false' OR DISTRIB[DISTRIBUTION, IMPALA_VERSION].doSupportSSLwithKerberos[] OR DISTRIBUTION=='CUSTOM') AND (USE_SSL=='true')">
			<DEFAULT>"********"</DEFAULT>
		</PARAMETER>

		<!-- CONNECTION PART END -->

		<!-- READ PART BEGIN -->
		<PARAMETER NAME="SCHEMA" FIELD="SCHEMA_TYPE" NUM_ROW="60">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="TABLE" FIELD="DBTABLE" NUM_ROW="65">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="QUERYSTORE" FIELD="QUERYSTORE_TYPE"
			NUM_ROW="70">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="GUESS_SCHEMA" FIELD="GUESS_SCHEMA" NUM_ROW="70">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="QUERY" FIELD="MEMO_SQL" NUM_ROW="90">
			<DEFAULT>"select id, name from employee"</DEFAULT>
		</PARAMETER>

		<!-- READ PART END -->
	</PARAMETERS>
	<ADVANCED_PARAMETERS>
		<PARAMETER NAME="ENCODING" FIELD="ENCODING_TYPE" NUM_ROW="9"
			NOT_SHOW_IF="DISTRIBUTION=='MICROSOFT_HD_INSIGHT'" REQUIRED="true"
			SHOW="false">
			<DEFAULT>"ISO-8859-15"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="TRIM_ALL_COLUMN" FIELD="CHECK" NUM_ROW="30">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="TRIM_COLUMN" FIELD="TABLE" NUM_ROW="40"
			NB_LINES="5" SHOW_IF="TRIM_ALL_COLUMN == 'false'">
			<ITEMS BASED_ON_SCHEMA="true">
				<ITEM NAME="TRIM" FIELD="CHECK"></ITEM>
			</ITEMS>
		</PARAMETER>
	</ADVANCED_PARAMETERS>

	<CODEGENERATION>
		<IMPORTS>
			<IMPORT NAME="reload4j-1.2.22" MODULE="reload4j-1.2.22.jar" MVN="mvn:ch.qos.reload4j/reload4j/1.2.22"/>
			<IMPORT NAME="hadoop-conf-kerberos" MODULE="hadoop-conf-kerberos.jar"
					MVN="mvn:org.talend.libraries/hadoop-conf-kerberos/6.0.0"
					UrlPath="platform:/plugin/org.talend.libraries.hadoop.mapr2/lib/hadoop-conf-kerberos.jar"
					REQUIRED_IF="(USE_EXISTING_CONNECTION=='false' AND DISTRIBUTION!='CUSTOM' AND USE_KRB=='true')"/>
			<IMPORT MODULE_GROUP="IMPALA_GROUP" REQUIRED="true" MRREQUIRED="true"/>				
		</IMPORTS>
	</CODEGENERATION>

	<RETURNS>
	</RETURNS>
</COMPONENT>
