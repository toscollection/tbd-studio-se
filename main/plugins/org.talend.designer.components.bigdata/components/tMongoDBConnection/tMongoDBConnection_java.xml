<COMPONENT>
    <HEADER
        PLATEFORM="ALL"
        SERIAL=""
        VERSION="0.101"
        STATUS="ALPHA"

        COMPATIBILITY="ALL"
        AUTHOR="Talend"
        RELEASE_DATE="20070210A"
        STARTABLE="true"
        LOG4J_ENABLED="true"
        >
        <SIGNATURE></SIGNATURE>
    </HEADER>
    <FAMILIES>
        <FAMILY>Databases/MongoDB</FAMILY>
        <FAMILY>Big Data/MongoDB</FAMILY>
    </FAMILIES>
    <DOCUMENTATION>
        <URL />
    </DOCUMENTATION>
    <CONNECTORS>
        <CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="0" />
        <CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="1" />
        <CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
        <CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
        <CONNECTOR CTYPE="COMPONENT_OK" />
        <CONNECTOR CTYPE="COMPONENT_ERROR" />
        <CONNECTOR CTYPE="RUN_IF" />
    </CONNECTORS>
    <PARAMETERS>
       <PARAMETER NAME="PROPERTY" FIELD="PROPERTY_TYPE" NUM_ROW="1" REPOSITORY_VALUE="NOSQL:MONGODB"/>

       <PARAMETER NAME="DB_VERSION" FIELD="CLOSED_LIST" REPOSITORY_VALUE="DB_VERSION" NUM_ROW="2" GROUP="CONNECTION">
                   <ITEMS DEFAULT="MONGODB_3_0_X">
                <ITEM NAME="MONGODB_2_5_X" VALUE="MONGODB_2_5_X"/>
                <ITEM NAME="MONGODB_2_6_X" VALUE="MONGODB_2_6_X"/>
                <ITEM NAME="MONGODB_3_0_X" VALUE="MONGODB_3_0_X"/>
            </ITEMS>
        </PARAMETER>
        <PARAMETER FIELD="CHECK" NAME="USE_REPLICA_SET" REPOSITORY_VALUE="USE_REPLICA_SET" NUM_ROW="3" GROUP="CONNECTION">
            <DEFAULT>"false"</DEFAULT>
        </PARAMETER>
        <PARAMETER NAME="REPLICA_SET" FIELD="TABLE" REPOSITORY_VALUE="REPLICA_SET" REQUIRED="true" NUM_ROW="4" NB_LINES="5" SHOW_IF="(USE_REPLICA_SET=='true')" GROUP="CONNECTION">
            <ITEMS>
                <ITEM NAME="REPLICA_HOST" FIELD="TEXT" />
                <ITEM NAME="REPLICA_PORT" FIELD="TEXT" />
            </ITEMS>
        </PARAMETER>

        <PARAMETER FIELD="TEXT" NAME="HOST" REPOSITORY_VALUE="HOST" NUM_ROW="5" REQUIRED="true" SHOW_IF="(USE_REPLICA_SET=='false')" GROUP="CONNECTION">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>
        <PARAMETER FIELD="TEXT" NAME="PORT" REPOSITORY_VALUE="PORT" NUM_ROW="5" SHOW_IF="(USE_REPLICA_SET=='false')" GROUP="CONNECTION">
            <DEFAULT>27017</DEFAULT>
        </PARAMETER>
        <PARAMETER FIELD="TEXT" NAME="DATABASE" REPOSITORY_VALUE="DATABASE" NUM_ROW="6" REQUIRED="true" GROUP="CONNECTION">
        <DEFAULT>""</DEFAULT>
        </PARAMETER>

        <PARAMETER FIELD="CHECK" NAME="USE_SSL" REPOSITORY_VALUE="USE_SSL" NUM_ROW="8" GROUP="CONNECTION">
            <DEFAULT>"false"</DEFAULT>
        </PARAMETER>

         <PARAMETER FIELD="CHECK" NAME="SET_READ_PREFERENCE" REPOSITORY_VALUE="SET_READ_PREFERENCE" NUM_ROW="10" GROUP="CONNECTION">
            <DEFAULT>"false"</DEFAULT>
        </PARAMETER>

        <PARAMETER NAME="READ_PREFERENCE" REPOSITORY_VALUE="READ_PREFERENCE" FIELD="CLOSED_LIST" NUM_ROW="11" SHOW_IF="(isShow[SET_READ_PREFERENCE]) AND (SET_READ_PREFERENCE=='true')" GROUP="CONNECTION">
            <ITEMS DEFAULT="PRIMARY">
                <ITEM NAME="PRIMARY" VALUE="PRIMARY"/>
                <ITEM NAME="PRIMARY_PREFERRED" VALUE="PRIMARY_PREFERRED"/>
                <ITEM NAME="SECONDARY" VALUE="SECONDARY"/>
                <ITEM NAME="SECONDARY_PREFERRED" VALUE="SECONDARY_PREFERRED"/>
                <ITEM NAME="NEAREST" VALUE="NEAREST"/>
            </ITEMS>
        </PARAMETER>

        <PARAMETER NAME="REQUIRED_AUTHENTICATION" REPOSITORY_VALUE="REQUIRED_AUTHENTICATION" FIELD="CHECK"
            NUM_ROW="15" GROUP="AUTHENTICATION">
            <DEFAULT>false</DEFAULT>
        </PARAMETER>
        <PARAMETER FIELD="TEXT" NAME="USERNAME" REPOSITORY_VALUE="USERNAME" NUM_ROW="16"
            SHOW_IF="REQUIRED_AUTHENTICATION == 'true'" GROUP="AUTHENTICATION">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>
        <PARAMETER FIELD="PASSWORD" NAME="PASSWORD" REPOSITORY_VALUE="PASSWORD" NUM_ROW="16"
            SHOW_IF="REQUIRED_AUTHENTICATION == 'true'" GROUP="AUTHENTICATION">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>
    </PARAMETERS>
    <ADVANCED_PARAMETERS />
    <CODEGENERATION>
        <IMPORTS>
            <IMPORT MODULE="mongo-java-driver-2.11.2.jar" MVN="mvn:org.talend.libraries/mongo-java-driver-2.11.2/6.0.0"  NAME="mongo-2.11.2" UrlPath="platform:/plugin/org.talend.libraries.mongo/lib/mongo-java-driver-2.11.2.jar" REQUIRED_IF="(DB_VERSION=='MONGODB_2_5_X')" />
            <!-- mongo java driver 2.12.0 give the compatibility with the new features of mongoDB 2.6 -->
            <IMPORT MODULE="mongo-java-driver-2.12.2.jar" MVN="mvn:org.talend.libraries/mongo-java-driver-2.12.2/6.0.0"  NAME="mongo-2.12.2" UrlPath="platform:/plugin/org.talend.libraries.mongo/lib/mongo-java-driver-2.12.2.jar" REQUIRED_IF="(DB_VERSION=='MONGODB_2_6_X')" />

            <IMPORT MODULE="mongo-java-driver-2.13.1.jar" MVN="mvn:org/mongodb/mongo-java-driver/2.13.1"  NAME="mongo-java-driver-2.13.1" REQUIRED_IF="(DB_VERSION=='MONGODB_3_0_X')" />

        </IMPORTS>
    </CODEGENERATION>
    <RETURNS/>
</COMPONENT>
