<COMPONENT>
	<HEADER PLATEFORM="ALL" SERIAL="" VERSION="0.101" STATUS="ALPHA"
		COMPATIBILITY="ALL" AUTHOR="Talend" RELEASE_DATE="20050320A"
		STARTABLE="true" SUPPORTS_DB_TYPE="true">
		<SIGNATURE></SIGNATURE>
	</HEADER>

	<FAMILIES>
		<FAMILY>Big Data/Impala</FAMILY>
	</FAMILIES>
	<DOCUMENTATION>
		<URL />
	</DOCUMENTATION>
	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="0" />
		<CONNECTOR NAME="PARTITION" CTYPE="FLOW" MAX_INPUT="0"
			MAX_OUTPUT="0" />
		<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="0" />
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK" />
		<CONNECTOR CTYPE="COMPONENT_ERROR" />
		<CONNECTOR CTYPE="RUN_IF" />
	</CONNECTORS>

	<PARAMETERS>
		<PARAMETER NAME="PROPERTY" FIELD="PROPERTY_TYPE" SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
			NUM_ROW="1" REPOSITORY_VALUE="DATABASE:IMPALA" />

		<PARAMETER NAME="TYPE" FIELD="TEXT" NUM_ROW="3" SHOW="false"
			REPOSITORY_VALUE="TYPE" GROUP="CONNECTION">
			<DEFAULT>Hive</DEFAULT>
		</PARAMETER>

		<!-- CONNECTION PART BEGIN -->

		<PARAMETER NAME="USE_EXISTING_CONNECTION" FIELD="CHECK"
				   NUM_ROW="4">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="CONNECTION" FIELD="COMPONENT_LIST"
			REQUIRED="true" FILTER="tImpalaConnection" NUM_ROW="4"
			SHOW_IF="USE_EXISTING_CONNECTION == 'true'" />

		<PARAMETER NAME="IMPALA_DRIVER" FIELD="CLOSED_LIST"
			NUM_ROW="12" REQUIRED="true" REPOSITORY_VALUE="IMPALA_DRIVER"
				   SHOW_IF="USE_EXISTING_CONNECTION=='false'"
				   GROUP="CONNECTION">
			<ITEMS DEFAULT="HIVE2">
				<ITEM NAME="HIVE2" VALUE="HIVE2"/>
				<ITEM NAME="IMPALA" VALUE="IMPALA"/>
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="HOST" FIELD="TEXT" NUM_ROW="20"
			REPOSITORY_VALUE="SERVER_NAME" GROUP="CONNECTION"
			SHOW_IF="USE_EXISTING_CONNECTION=='false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="PORT" FIELD="TEXT" NUM_ROW="20"
			REPOSITORY_VALUE="PORT" REQUIRED="true" GROUP="CONNECTION" 
			SHOW_IF="USE_EXISTING_CONNECTION=='false'">
			<DEFAULT>"21050"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="DBNAME" FIELD="TEXT" NUM_ROW="25"
				   REPOSITORY_VALUE="SID" REQUIRED="true" GROUP="CONNECTION"
				   SHOW_IF="USE_EXISTING_CONNECTION=='false'">
			<DEFAULT>"default"</DEFAULT>
		</PARAMETER>

		        
        <PARAMETER NAME="IMPALA_ADDITIONAL_JDBC" FIELD="TEXT" NUM_ROW="26"
            REPOSITORY_VALUE="IMPALA_ADDITIONAL_JDBC" REQUIRED="false" GROUP="CONNECTION"
            SHOW_IF="USE_EXISTING_CONNECTION=='false'">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>   
		
		<PARAMETER NAME="USER" FIELD="TEXT" NUM_ROW="27"
			REPOSITORY_VALUE="USERNAME" GROUP="AUTHENTICATION"
			SHOW_IF="(isShow[USE_KRB]) AND USE_KRB=='false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>     
           
        <PARAMETER NAME="PASS" FIELD="PASSWORD" NUM_ROW="27" REPOSITORY_VALUE="PASSWORD" GROUP="AUTHENTICATION"
			SHOW_IF="(isShow[USE_KRB]) AND USE_KRB=='false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="USE_KRB" FIELD="CHECK" NUM_ROW="35"
			REQUIRED="true" REPOSITORY_VALUE="USE_KRB" GROUP="AUTHENTICATION"
			SHOW_IF="USE_EXISTING_CONNECTION=='false'">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="IMPALA_PRINCIPAL" FIELD="TEXT" NUM_ROW="40"
			REQUIRED="true" REPOSITORY_VALUE="IMPALA_PRINCIPAL" GROUP="AUTHENTICATION"
			SHOW_IF="(isShow[USE_KRB]) AND USE_KRB=='true'">
			<DEFAULT>"impala/_HOST@EXAMPLE.COM"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="USE_KEYTAB" FIELD="CHECK" NUM_ROW="40"
			REQUIRED="true" REPOSITORY_VALUE="USE_KEYTAB" GROUP="AUTHENTICATION"
			SHOW_IF="USE_EXISTING_CONNECTION=='false' AND (isShow[USE_KRB]) AND USE_KRB=='true'">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="PRINCIPAL" FIELD="TEXT" NUM_ROW="41"
			REQUIRED="true" REPOSITORY_VALUE="PRINCIPAL" GROUP="AUTHENTICATION"
			SHOW_IF="(isShow[USE_KEYTAB]) AND (USE_KEYTAB=='true')">
			<DEFAULT>"hive"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="KEYTAB_PATH" FIELD="FILE" NUM_ROW="41"
			REQUIRED="true" REPOSITORY_VALUE="KEYTAB_PATH" GROUP="AUTHENTICATION"
			SHOW_IF="(isShow[USE_KEYTAB]) AND (USE_KEYTAB=='true')">
			<DEFAULT>"/tmp/hive.keytab"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="USE_SSL" FIELD="CHECK" NUM_ROW="45"
			REPOSITORY_VALUE="USE_SSL" REQUIRED="true" GROUP="ENCRYPTION"
			SHOW_IF="USE_EXISTING_CONNECTION=='false'">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="SSL_TRUST_STORE" FIELD="FILE" NUM_ROW="46"
			REPOSITORY_VALUE="SSL_TRUST_STORE" REQUIRED="true" GROUP="ENCRYPTION"
			SHOW_IF="(isShow[USE_SSL]) AND (USE_KRB=='false') AND (USE_SSL=='true')">
			<DEFAULT>"/home/usr1/ssl/trust_store.jks"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="SSL_TRUST_STORE_PASSWORD" FIELD="PASSWORD"
			NUM_ROW="46" REPOSITORY_VALUE="SSL_TRUST_STORE_PASSWORD" REQUIRED="true" GROUP="ENCRYPTION"
			SHOW_IF="(isShow[USE_SSL]) AND (USE_KRB=='false') AND (USE_SSL=='true')">
			<DEFAULT>"********"</DEFAULT>
		</PARAMETER>

		<!-- CONNECTION PART END -->

		<!-- CREATE TABLE PART BEGIN -->

		<PARAMETER NAME="SCHEMA" FIELD="SCHEMA_TYPE" NUM_ROW="50">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="TABLE" FIELD="DBTABLE" NUM_ROW="55"
			GROUP="CREATE_TABLE_GROUP">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="TABLEACTION" FIELD="CLOSED_LIST" NUM_ROW="60"
			GROUP="CREATE_TABLE_GROUP">
			<ITEMS DEFAULT="CREATE_TABLE">
				<ITEM NAME="CREATE_TABLE" VALUE="CREATE_TABLE" />
				<ITEM NAME="CREATE_IF_NOT_EXIST" VALUE="CREATE_IF_NOT_EXIST" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="STORAGE_FORMAT" FIELD="CLOSED_LIST"
			NUM_ROW="65" REQUIRED="true" SHOW_IF="LIKE_TABLE=='false'" GROUP="CREATE_TABLE_GROUP">
			<ITEMS DEFAULT="TEXTFILE">
				<ITEM NAME="TEXTFILE" VALUE="TEXTFILE" />
				<ITEM NAME="SEQUENCEFILE" VALUE="SEQUENCEFILE" />
				<ITEM NAME="RCFILE" VALUE="RCFILE" />
				<ITEM NAME="PARQUET" VALUE="PARQUET" />
				<ITEM NAME="AVRO" VALUE="AVRO" />
				<ITEM NAME="KUDU" VALUE="KUDU" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="SET_PARTITIONS" FIELD="CHECK" NUM_ROW="75"
			REQUIRED="true" SHOW_IF="(LIKE_TABLE=='false') OR ((STORAGE_FORMAT=='KUDU') AND (CREATE_EXTERNAL=='false'))" GROUP="CREATE_TABLE_GROUP">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="SCHEMA_PARTITION" FIELD="SCHEMA_TYPE"
			REQUIRED="true" NUM_ROW="75" CONTEXT="PARTITION"
			SHOW_IF="(LIKE_TABLE=='false') AND (SET_PARTITIONS=='true') AND (STORAGE_FORMAT!='KUDU')" GROUP="CREATE_TABLE_GROUP">
			<DEFAULT />
		</PARAMETER>
		<PARAMETER NAME="KUDU_PARTITION" FIELD="TEXT" NUM_ROW="76"
				   GROUP="CREATE_TABLE_GROUP" SHOW_IF="(STORAGE_FORMAT=='KUDU') AND (SET_PARTITIONS=='true')">
			<DEFAULT>"HASH PARTITIONS 3"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="SET_FILE_LOCATION" FIELD="CHECK" NUM_ROW="80"
			REQUIRED="true" SHOW_IF="STORAGE_FORMAT!='KUDU'" GROUP="CREATE_TABLE_GROUP">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="S3_LOCATION" FIELD="CHECK" NUM_ROW="80"
			REQUIRED="true" SHOW_IF="SET_FILE_LOCATION=='true'" GROUP="CREATE_TABLE_GROUP">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="FILE_LOCATION" FIELD="TEXT" NUM_ROW="85"
			REQUIRED="true" SHOW_IF="(SET_FILE_LOCATION=='true') AND (S3_LOCATION=='false')"
			GROUP="CREATE_TABLE_GROUP">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="S3_BUCKET" FIELD="TEXT" NUM_ROW="85"
			REQUIRED="true" SHOW_IF="(SET_FILE_LOCATION=='true') AND (S3_LOCATION=='true')"
			GROUP="CREATE_TABLE_GROUP">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="S3_USERNAME" FIELD="TEXT" NUM_ROW="85"
			REQUIRED="true" SHOW_IF="(SET_FILE_LOCATION=='true') AND (S3_LOCATION=='true')"
			GROUP="CREATE_TABLE_GROUP">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="S3_PASSWORD" FIELD="PASSWORD" NUM_ROW="90"
			REQUIRED="true" SHOW_IF="(SET_FILE_LOCATION=='true') AND (S3_LOCATION=='true')"
			GROUP="CREATE_TABLE_GROUP">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="MAPPING" FIELD="MAPPING_TYPE" NUM_ROW="85"
			SHOW="false">
			<DEFAULT>hive_id</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="SET_ROW_FORMAT" FIELD="CHECK" NUM_ROW="95"
			REQUIRED="true"
			SHOW_IF="(LIKE_TABLE=='false') AND (STORAGE_FORMAT!='AVRO') AND (STORAGE_FORMAT!='PARQUET') AND (STORAGE_FORMAT!='KUDU')"
			GROUP="ROW_FORMAT_GROUP">
			<DEFAULT IF="(STORAGE_FORMAT == 'TEXTFILE')">true</DEFAULT>
			<DEFAULT IF="(STORAGE_FORMAT != 'TEXTFILE')">false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="SET_FIELD_TERMINATED_BY" FIELD="CHECK"
			NUM_ROW="100" REQUIRED="true"
			SHOW_IF="(LIKE_TABLE=='false') AND (SET_ROW_FORMAT=='true') AND (STORAGE_FORMAT!='AVRO') AND (STORAGE_FORMAT!='PARQUET') AND (STORAGE_FORMAT!='KUDU')"
			GROUP="ROW_FORMAT_GROUP">
			<DEFAULT IF="(STORAGE_FORMAT == 'TEXTFILE')">true</DEFAULT>
			<DEFAULT IF="(STORAGE_FORMAT != 'TEXTFILE')">false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="FIELD_TERMINATED_BY" FIELD="TEXT" NUM_ROW="100"
			REQUIRED="true"
			SHOW_IF="(LIKE_TABLE=='false') AND (SET_ROW_FORMAT=='true') AND (SET_FIELD_TERMINATED_BY=='true') AND (STORAGE_FORMAT!='AVRO') AND (STORAGE_FORMAT!='PARQUET') AND (STORAGE_FORMAT!='KUDU')"
			GROUP="ROW_FORMAT_GROUP">
			<DEFAULT>";"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="SET_FIELD_ESCAPE_BY" FIELD="CHECK" NUM_ROW="100"
			REQUIRED="true"
			SHOW_IF="(LIKE_TABLE=='false') AND (SET_ROW_FORMAT=='true') AND (SET_FIELD_TERMINATED_BY=='true') AND (STORAGE_FORMAT!='AVRO') AND (STORAGE_FORMAT!='PARQUET') AND (STORAGE_FORMAT!='KUDU')"
			GROUP="ROW_FORMAT_GROUP">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="FIELD_ESCAPE_BY" FIELD="TEXT" NUM_ROW="100"
			REQUIRED="true"
			SHOW_IF="(LIKE_TABLE=='false') AND (SET_ROW_FORMAT=='true') AND (SET_FIELD_TERMINATED_BY=='true') AND (SET_FIELD_ESCAPE_BY=='true') AND (STORAGE_FORMAT!='AVRO') AND (STORAGE_FORMAT!='PARQUET') AND (STORAGE_FORMAT!='KUDU')"
			GROUP="ROW_FORMAT_GROUP">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="SET_LINES_TERMINATED_BY" FIELD="CHECK"
			NUM_ROW="115" REQUIRED="true"
			SHOW_IF="(LIKE_TABLE=='false') AND (SET_ROW_FORMAT=='true') AND (STORAGE_FORMAT!='AVRO') AND (STORAGE_FORMAT!='PARQUET') AND (STORAGE_FORMAT!='KUDU')"
			GROUP="ROW_FORMAT_GROUP">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="LINES_TERMINATED_BY" FIELD="TEXT" NUM_ROW="115"
			REQUIRED="true"
			SHOW_IF="(LIKE_TABLE=='false') AND (SET_ROW_FORMAT=='true') AND (SET_LINES_TERMINATED_BY=='true') AND (STORAGE_FORMAT!='AVRO') AND (STORAGE_FORMAT!='PARQUET') AND (STORAGE_FORMAT!='KUDU')"
			GROUP="ROW_FORMAT_GROUP">
			<DEFAULT>"\n"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="DIE_ON_ERROR" FIELD="CHECK" NUM_ROW="130">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<!-- CREATE TABLE PART END -->
	</PARAMETERS>
	<ADVANCED_PARAMETERS>
		<PARAMETER NAME="LIKE_TABLE" FIELD="CHECK" NUM_ROW="1" SHOW_IF="STORAGE_FORMAT!='KUDU'"
		GROUP="ADVANCED_CREATE_TABLE_GROUP">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="LIKE_TABLE_NAME" FIELD="TEXT" NUM_ROW="1"
			SHOW_IF="LIKE_TABLE=='true'" GROUP="ADVANCED_CREATE_TABLE_GROUP">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="CREATE_EXTERNAL" FIELD="CHECK" NUM_ROW="5"
			REQUIRED="true" SHOW_IF="(((SET_PARTITIONS=='false') AND (STORAGE_FORMAT=='KUDU')) OR (STORAGE_FORMAT!='KUDU'))" GROUP="ADVANCED_CREATE_TABLE_GROUP">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="TABLE_COMMENT" FIELD="TEXT" NUM_ROW="10"
			REQUIRED="true" SHOW_IF="(LIKE_TABLE=='false') AND (STORAGE_FORMAT!='KUDU')" GROUP="ADVANCED_CREATE_TABLE_GROUP">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="AS_SELECT" FIELD="CHECK" NUM_ROW="11"
			SHOW_IF="LIKE_TABLE=='false'" GROUP="ADVANCED_CREATE_TABLE_GROUP">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="SELECT" FIELD="MEMO_SQL" NUM_ROW="12"
			SHOW_IF="(AS_SELECT=='true') AND (LIKE_TABLE=='false')" GROUP="ADVANCED_CREATE_TABLE_GROUP">
			<DEFAULT>"select id, name from employee"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="SERDE_PROPERTIES" FIELD="TABLE" REQUIRED="false"
			NUM_ROW="18" NB_LINES="3"
			SHOW_IF="((STORAGE_FORMAT=='AVRO') OR (STORAGE_FORMAT=='PARQUET')) AND (LIKE_TABLE=='false')"
			GROUP="ADVANCED_CREATE_TABLE_GROUP">
			<ITEMS>
				<ITEM NAME="PROPERTY" />
				<ITEM NAME="VALUE" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="TABLE_PROPERTIES" FIELD="TABLE" REQUIRED="false"
			NUM_ROW="30" NB_LINES="3" SHOW_IF="LIKE_TABLE=='false'" GROUP="ADVANCED_CREATE_TABLE_GROUP">
			<ITEMS>
				<ITEM NAME="PROPERTY" />
				<ITEM NAME="VALUE" />
			</ITEMS>
		</PARAMETER>
	</ADVANCED_PARAMETERS>

	<CODEGENERATION>
		<IMPORTS>
			<IMPORT NAME="reload4j-1.2.22" MODULE="reload4j-1.2.22.jar" MVN="mvn:ch.qos.reload4j/reload4j/1.2.22"/>
			<IMPORT NAME="hadoop-conf-kerberos" MODULE="hadoop-conf-kerberos.jar"
					MVN="mvn:org.talend.libraries/hadoop-conf-kerberos/6.0.0"
					UrlPath="platform:/plugin/org.talend.libraries.hadoop.mapr2/lib/hadoop-conf-kerberos.jar"
					REQUIRED_IF="(USE_EXISTING_CONNECTION=='false' AND DISTRIBUTION!='CUSTOM' AND USE_KRB=='true')"/>
			<IMPORT MODULE_GROUP="IMPALA_GROUP" REQUIRED="true" MRREQUIRED="true"/>				
		</IMPORTS>
	</CODEGENERATION>

	<RETURNS>
	</RETURNS>
</COMPONENT>
