<COMPONENT>
	<HEADER PLATEFORM="ALL" SERIAL="" VERSION="0.100" STATUS="ALPHA"
		COMPATIBILITY="ALL" AUTHOR="Talend" RELEASE_DATE="20180503A" STARTABLE="true"
		LOG4J_ENABLED="true">
		<SIGNATURE />
	</HEADER>
	<FAMILIES>
		<FAMILY>Databases NoSQL/MapRDB</FAMILY>
	</FAMILIES>
	<DOCUMENTATION>
		<URL />
	</DOCUMENTATION>
	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="1" />
		<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK" />
		<CONNECTOR CTYPE="COMPONENT_ERROR" />
		<CONNECTOR CTYPE="RUN_IF" />
	</CONNECTORS>
	<PARAMETERS>

		<PARAMETER NAME="OJAI" FIELD="HADOOP_DISTRIBUTION"
			NUM_ROW="5" GROUP="VERSION"/>

		<PARAMETER NAME="SCHEMA_FLOW" FIELD="SCHEMA_TYPE" NUM_ROW="20">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

   		<!-- kerberos -->
		<PARAMETER NAME="USE_KRB" FIELD="CHECK" NUM_ROW="21"
			REPOSITORY_VALUE="USE_KRB" GROUP="AUTHENTICATION">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="PRINCIPAL" REPOSITORY_VALUE="KEYTAB_PRINCIPAL"
			FIELD="TEXT" REQUIRED="true" NUM_ROW="22" GROUP="AUTHENTICATION"
			SHOW_IF="((USE_KRB=='true')">
			<DEFAULT>"hdfs"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="KERBEROS_PASSWORD" FIELD="PASSWORD" GROUP="AUTHENTICATION"
			REPOSITORY_VALUE="MAPRTICKET_PASSWORD" REQUIRED="true" NUM_ROW="23"
			SHOW_IF="((USE_KRB=='true') AND (USE_KEYTAB=='false'))">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="USE_KEYTAB" REPOSITORY_VALUE="USE_KEYTAB"
			FIELD="CHECK" NUM_ROW="24" SHOW_IF="(USE_KRB=='true')" GROUP="AUTHENTICATION">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="KEYTAB_PATH" REPOSITORY_VALUE="KEYTAB_PATH"
			FIELD="FILE" REQUIRED="true" NUM_ROW="25"
			SHOW_IF="(USE_KRB=='true') AND (USE_KEYTAB=='true'))" GROUP="AUTHENTICATION">
			<DEFAULT>"/tmp/hdfs.headless.keytab"</DEFAULT>
		</PARAMETER>


		<PARAMETER NAME="RESTRICT_PARTIAL_SORTS" FIELD="CHECK" NUM_ROW="28" SHOW_IF="(DISTRIB[DISTRIBUTION, DB_VERSION].doSupportExplicitSorts[])">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="TABLE" FIELD="TEXT" NUM_ROW="30">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

        <PARAMETER
            FIELD="MEMO"
            NAME="QUERY"
            REQUIRED="true"
            NUM_ROW="41"
            NB_LINES="5"
            SHOW_IF="(DISTRIB[DISTRIBUTION, DB_VERSION].doSupportJsonQueries[])">
            <DEFAULT>"{}"</DEFAULT>
        </PARAMETER>

		<PARAMETER NAME="MAPPING" FIELD="TABLE" REQUIRED="true"
			NUM_ROW="50" NB_LINES="5">
			<ITEMS BASED_ON_SCHEMA="true">
				<ITEM NAME="PARENT_FIELD_PATH" FIELD="TEXT" />
			</ITEMS>
		</PARAMETER>
	</PARAMETERS>

	<ADVANCED_PARAMETERS>
	</ADVANCED_PARAMETERS>

	<CODEGENERATION>
	</CODEGENERATION>
	<RETURNS>
		<RETURN AVAILABILITY="AFTER" NAME="NB_LINE" TYPE="id_Integer" />
	</RETURNS>
</COMPONENT>
